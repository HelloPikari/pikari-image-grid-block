(()=>{var e,i={482:(e,i,a)=>{"use strict";const t=window.wp.blocks,r=JSON.parse('{"UU":"pikari/image-grid"}'),l=window.wp.blockEditor,o=window.wp.element,g=window.wp.components,n=window.wp.i18n,s=window.ReactJSXRuntime;function d({imageNumber:e,imageId:i,imageUrl:a,imageAlt:t,enableCaptions:r,onSelectImage:o,onRemoveImage:d,onUpdateAlt:m}){return(0,s.jsxs)(g.BaseControl,{id:`pikari-image-grid-control-${e}`,label:(0,n.sprintf)(/* translators: %d: Image number */ /* translators: %d: Image number */
(0,n.__)("Image %d","pikari-image-grid"),e),className:"image-grid-control",children:[(0,s.jsx)(l.MediaUploadCheck,{children:(0,s.jsx)(l.MediaUpload,{onSelect:o,allowedTypes:["image"],value:i,render:({open:e})=>(0,s.jsx)("div",{className:"image-control-wrapper",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:a,alt:t,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"4px",marginBottom:"8px"}}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[(0,s.jsx)(g.Button,{onClick:e,variant:"secondary",size:"small",children:(0,n.__)("Replace","pikari-image-grid")}),(0,s.jsx)(g.Button,{onClick:d,variant:"secondary",size:"small",isDestructive:!0,children:(0,n.__)("Remove","pikari-image-grid")})]})]}):(0,s.jsx)(g.Button,{onClick:e,variant:"secondary",children:(0,n.__)("Select Image","pikari-image-grid")})})})}),a&&r&&(0,s.jsx)(g.TextControl,{label:(0,n.__)("Alt Text","pikari-image-grid"),value:t,onChange:m,help:(0,n.__)("Describe the image for screen readers.","pikari-image-grid")})]})}const m=(e,i)=>a=>{e({[`image${i}Id`]:a.id,[`image${i}Url`]:a.url,[`image${i}Alt`]:a.alt||""})},p=(e,i)=>()=>{e({[`image${i}Id`]:0,[`image${i}Url`]:"",[`image${i}Alt`]:""})},u=(e,i)=>a=>{e({[`image${i}Alt`]:a})},c=e=>e&&"auto"!==e?parseInt(e):null;function h({gridLayout:e,gap:i,imageBorderRadius:a,imageBorderWidth:t,imageBorderColor:r,setAttributes:o}){return(0,s.jsxs)(g.PanelBody,{title:(0,n.__)("Layout Settings","pikari-image-grid"),children:[(0,s.jsx)(g.SelectControl,{label:(0,n.__)("Grid Layout","pikari-image-grid"),value:e,options:[{label:(0,n.__)("Asymmetric","pikari-image-grid"),value:"asymmetric"},{label:(0,n.__)("Equal Grid","pikari-image-grid"),value:"equal"},{label:(0,n.__)("Masonry","pikari-image-grid"),value:"masonry"}],onChange:e=>o({gridLayout:e}),help:(0,n.__)("Choose how the images are arranged in the grid.","pikari-image-grid")}),(0,s.jsx)(g.RangeControl,{label:(0,n.__)("Gap Between Images","pikari-image-grid"),value:i,onChange:e=>o({gap:e}),min:0,max:50,step:1}),(0,s.jsx)(g.RangeControl,{label:(0,n.__)("Image Border Radius","pikari-image-grid"),value:a,onChange:e=>o({imageBorderRadius:e}),min:0,max:50,step:1,help:(0,n.__)("Add rounded corners to images.","pikari-image-grid")}),(0,s.jsx)(g.RangeControl,{label:(0,n.__)("Image Border Width","pikari-image-grid"),value:t,onChange:e=>o({imageBorderWidth:e}),min:0,max:10,step:1,help:(0,n.__)("Set the border width for images.","pikari-image-grid")}),t>0&&(0,s.jsx)(l.PanelColorSettings,{title:(0,n.__)("Border Color","pikari-image-grid"),initialOpen:!1,colorSettings:[{value:r,onChange:e=>o({imageBorderColor:e||""}),label:(0,n.__)("Border Color","pikari-image-grid")}]})]})}function b({enableCaptions:e,setAttributes:i}){return(0,s.jsx)(g.PanelBody,{title:(0,n.__)("Display Settings","pikari-image-grid"),children:(0,s.jsx)(g.ToggleControl,{label:(0,n.__)("Enable Captions","pikari-image-grid"),checked:e,onChange:e=>i({enableCaptions:e}),help:(0,n.__)("Show image captions below each image.","pikari-image-grid")})})}function x({width:e,height:i,setAttributes:a}){return(0,s.jsx)(g.PanelBody,{title:(0,n.__)("Dimensions","pikari-image-grid"),children:(0,s.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,s.jsx)(g.TextControl,{label:(0,n.__)("Width","pikari-image-grid"),value:e,onChange:e=>a({width:e}),placeholder:(0,n.__)("Auto","pikari-image-grid"),help:(0,n.__)("Enter width with unit (px, %, vw)","pikari-image-grid")}),(0,s.jsx)(g.TextControl,{label:(0,n.__)("Height","pikari-image-grid"),value:i,onChange:e=>a({height:e}),placeholder:(0,n.__)("Auto","pikari-image-grid"),help:(0,n.__)("Enter height with unit (px, %, vh)","pikari-image-grid")})]})})}function _({attributes:e,setAttributes:i}){const{enableCaptions:a,image1Id:t,image1Url:r,image1Alt:l,image2Id:o,image2Url:c,image2Alt:h,image3Id:b,image3Url:x,image3Alt:_,image4Id:v,image4Url:f,image4Alt:j}=e;return(0,s.jsxs)(g.PanelBody,{title:(0,n.__)("Images","pikari-image-grid"),initialOpen:!1,children:[(0,s.jsx)(d,{imageNumber:1,imageId:t,imageUrl:r,imageAlt:l,enableCaptions:a,onSelectImage:m(i,1),onRemoveImage:p(i,1),onUpdateAlt:u(i,1)}),(0,s.jsx)(d,{imageNumber:2,imageId:o,imageUrl:c,imageAlt:h,enableCaptions:a,onSelectImage:m(i,2),onRemoveImage:p(i,2),onUpdateAlt:u(i,2)}),(0,s.jsx)(d,{imageNumber:3,imageId:b,imageUrl:x,imageAlt:_,enableCaptions:a,onSelectImage:m(i,3),onRemoveImage:p(i,3),onUpdateAlt:u(i,3)}),(0,s.jsx)(d,{imageNumber:4,imageId:v,imageUrl:f,imageAlt:j,enableCaptions:a,onSelectImage:m(i,4),onRemoveImage:p(i,4),onUpdateAlt:u(i,4)})]})}function v({attributes:e,setAttributes:i}){const{gridLayout:a,gap:t,imageBorderRadius:r,imageBorderWidth:o,imageBorderColor:g,enableCaptions:n,width:d,height:m}=e;return(0,s.jsxs)(l.InspectorControls,{children:[(0,s.jsx)(h,{gridLayout:a,gap:t,imageBorderRadius:r,imageBorderWidth:o,imageBorderColor:g,setAttributes:i}),(0,s.jsx)(b,{enableCaptions:n,setAttributes:i}),(0,s.jsx)(x,{width:d,height:m,setAttributes:i}),(0,s.jsx)(_,{attributes:e,setAttributes:i})]})}function f({attributes:e,setAttributes:i}){return(0,s.jsx)(l.MediaPlaceholder,{icon:"grid-view",labels:{title:(0,n.__)("Image Grid","pikari-image-grid"),instructions:(0,n.__)("Upload images or select from your media library to create a beautiful image grid.","pikari-image-grid")},onSelect:a=>((e,i,a)=>{if(Array.isArray(e)){const i={};e.slice(0,4).forEach((e,a)=>{const t=a+1;i[`image${t}Id`]=e.id,i[`image${t}Url`]=e.url,i[`image${t}Alt`]=e.alt||""}),a(i)}else for(let t=1;t<=4;t++)if(!i[`image${t}Url`]){a({[`image${t}Id`]:e.id,[`image${t}Url`]:e.url,[`image${t}Alt`]:e.alt||""});break}})(a,e,i),accept:"image/*",allowedTypes:["image"],multiple:!0})}var j=a(942),k=a.n(j);function y({images:e,gridLayout:i,gap:a,width:t,height:r,enableCaptions:l,setAttributes:o}){const d=t||"fit-content",m=r||"fit-content",p=c(t),u=c(r);return(0,s.jsx)(g.ResizableBox,{size:{width:p||void 0,height:u||void 0},style:{width:d,height:m},minHeight:200,minWidth:200,enable:{top:!1,right:!0,bottom:!0,left:!1,topRight:!1,bottomRight:!0,bottomLeft:!1,topLeft:!1},onResizeStop:(e,i,a)=>{const t=a.getBoundingClientRect();o({width:`${Math.round(t.width)}px`,height:`${Math.round(t.height)}px`})},className:"image-grid-resizable",children:(0,s.jsx)("div",{className:k()("image-grid-container",`is-layout-${i}`),style:{width:"100%",height:"100%",display:"grid",gap:`${a}px`},children:e.map((e,i)=>(0,s.jsx)("div",{className:k()("image-grid-item",{"has-placeholder":!e.url}),children:e.url?(0,s.jsxs)("figure",{className:"image-grid-figure",children:[(0,s.jsx)("img",{src:e.url,alt:e.alt,className:"image-grid-image",style:{width:"100%",height:"100%",objectFit:"cover"}}),l&&e.alt&&(0,s.jsx)("figcaption",{className:"image-grid-caption",children:e.alt})]}):(0,s.jsx)("div",{className:"image-placeholder",children:(0,s.jsx)("span",{children:(0,n.sprintf)(/* translators: %d: Image number */ /* translators: %d: Image number */
(0,n.__)("Image %d","pikari-image-grid"),i+1)})})},i))})},`${t}-${r}`)}(0,t.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:i}){const{gap:a,imageBorderRadius:t,imageBorderWidth:r,imageBorderColor:g,gridLayout:n,width:d,height:m,enableCaptions:p}=e,u=(0,l.useBlockProps)({className:p?"has-captions":"",style:{"--image-grid-gap":`${a}px`,"--image-grid-border-radius":`${t}px`,"--image-grid-border-width":`${r}px`,"--image-grid-border-color":g||"transparent"}}),c=(0,o.useRef)(null),h=(e=>{const{image1Id:i,image1Url:a,image1Alt:t,image2Id:r,image2Url:l,image2Alt:o,image3Id:g,image3Url:n,image3Alt:s,image4Id:d,image4Url:m,image4Alt:p}=e;return[{id:i,url:a,alt:t},{id:r,url:l,alt:o},{id:g,url:n,alt:s},{id:d,url:m,alt:p}]})(e);return h.some(e=>e.url)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{attributes:e,setAttributes:i}),(0,s.jsx)("div",{...u,children:(0,s.jsx)("div",{ref:c,style:{height:"100%"},children:(0,s.jsx)(y,{images:h,gridLayout:n,gap:a,width:d,height:m,enableCaptions:p,setAttributes:i})})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{attributes:e,setAttributes:i}),(0,s.jsx)("div",{...u,children:(0,s.jsx)(f,{attributes:e,setAttributes:i})})]})},save:()=>null})},942:(e,i)=>{var a;!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(e=o(e,l(a)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var i="";for(var a in e)t.call(e,a)&&e[a]&&(i=o(i,a));return i}function o(e,i){return i?e?e+" "+i:e+i:e}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(i,[]))||(e.exports=a)}()}},a={};function t(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return i[e](l,l.exports,t),l.exports}t.m=i,e=[],t.O=(i,a,r,l)=>{if(!a){var o=1/0;for(d=0;d<e.length;d++){for(var[a,r,l]=e[d],g=!0,n=0;n<a.length;n++)(!1&l||o>=l)&&Object.keys(t.O).every(e=>t.O[e](a[n]))?a.splice(n--,1):(g=!1,l<o&&(o=l));if(g){e.splice(d--,1);var s=r();void 0!==s&&(i=s)}}return i}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,r,l]},t.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return t.d(i,{a:i}),i},t.d=(e,i)=>{for(var a in i)t.o(i,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:i[a]})},t.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={645:0,505:0};t.O.j=i=>0===e[i];var i=(i,a)=>{var r,l,[o,g,n]=a,s=0;if(o.some(i=>0!==e[i])){for(r in g)t.o(g,r)&&(t.m[r]=g[r]);if(n)var d=n(t)}for(i&&i(a);s<o.length;s++)l=o[s],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},a=globalThis.webpackChunkpikari_image_grid_block=globalThis.webpackChunkpikari_image_grid_block||[];a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a))})();var r=t.O(void 0,[505],()=>t(482));r=t.O(r)})();
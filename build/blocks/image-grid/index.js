(()=>{var e,t={45:(e,t,i)=>{"use strict";const a=window.wp.blocks,r=JSON.parse('{"UU":"pikari/image-grid"}'),l=window.React,n=window.wp.blockEditor,o=window.wp.element,g=window.wp.components,m=window.wp.i18n;function d({imageNumber:e,imageId:t,imageUrl:i,imageAlt:a,enableCaptions:r,onSelectImage:o,onRemoveImage:d,onUpdateAlt:s}){return(0,l.createElement)(g.BaseControl,{id:`pikari-image-grid-control-${e}`,label:(0,m.sprintf)(/* translators: %d: Image number */ /* translators: %d: Image number */
(0,m.__)("Image %d","pikari-image-grid"),e),className:"image-grid-control"},(0,l.createElement)(n.MediaUploadCheck,null,(0,l.createElement)(n.MediaUpload,{onSelect:o,allowedTypes:["image"],value:t,render:({open:e})=>(0,l.createElement)("div",{className:"image-control-wrapper"},i?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("img",{src:i,alt:a,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"4px",marginBottom:"8px"}}),(0,l.createElement)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"}},(0,l.createElement)(g.Button,{onClick:e,variant:"secondary",size:"small"},(0,m.__)("Replace","pikari-image-grid")),(0,l.createElement)(g.Button,{onClick:d,variant:"secondary",size:"small",isDestructive:!0},(0,m.__)("Remove","pikari-image-grid")))):(0,l.createElement)(g.Button,{onClick:e,variant:"secondary"},(0,m.__)("Select Image","pikari-image-grid")))})),i&&r&&(0,l.createElement)(g.TextControl,{label:(0,m.__)("Alt Text","pikari-image-grid"),value:a,onChange:s,help:(0,m.__)("Describe the image for screen readers.","pikari-image-grid")}))}const s=(e,t)=>i=>{e({[`image${t}Id`]:i.id,[`image${t}Url`]:i.url,[`image${t}Alt`]:i.alt||""})},c=(e,t)=>()=>{e({[`image${t}Id`]:0,[`image${t}Url`]:"",[`image${t}Alt`]:""})},p=(e,t)=>i=>{e({[`image${t}Alt`]:i})},u=e=>e&&"auto"!==e?parseInt(e):null;function h({gridLayout:e,gap:t,imageBorderRadius:i,imageBorderWidth:a,imageBorderColor:r,setAttributes:o}){return(0,l.createElement)(g.PanelBody,{title:(0,m.__)("Layout Settings","pikari-image-grid")},(0,l.createElement)(g.SelectControl,{label:(0,m.__)("Grid Layout","pikari-image-grid"),value:e,options:[{label:(0,m.__)("Asymmetric","pikari-image-grid"),value:"asymmetric"},{label:(0,m.__)("Equal Grid","pikari-image-grid"),value:"equal"},{label:(0,m.__)("Masonry","pikari-image-grid"),value:"masonry"}],onChange:e=>o({gridLayout:e}),help:(0,m.__)("Choose how the images are arranged in the grid.","pikari-image-grid")}),(0,l.createElement)(g.RangeControl,{label:(0,m.__)("Gap Between Images","pikari-image-grid"),value:t,onChange:e=>o({gap:e}),min:0,max:50,step:1}),(0,l.createElement)(g.RangeControl,{label:(0,m.__)("Image Border Radius","pikari-image-grid"),value:i,onChange:e=>o({imageBorderRadius:e}),min:0,max:50,step:1,help:(0,m.__)("Add rounded corners to images.","pikari-image-grid")}),(0,l.createElement)(g.RangeControl,{label:(0,m.__)("Image Border Width","pikari-image-grid"),value:a,onChange:e=>o({imageBorderWidth:e}),min:0,max:10,step:1,help:(0,m.__)("Set the border width for images.","pikari-image-grid")}),a>0&&(0,l.createElement)(n.PanelColorSettings,{title:(0,m.__)("Border Color","pikari-image-grid"),initialOpen:!1,colorSettings:[{value:r,onChange:e=>o({imageBorderColor:e||""}),label:(0,m.__)("Border Color","pikari-image-grid")}]}))}function b({enableCaptions:e,setAttributes:t}){return(0,l.createElement)(g.PanelBody,{title:(0,m.__)("Display Settings","pikari-image-grid")},(0,l.createElement)(g.ToggleControl,{label:(0,m.__)("Enable Captions","pikari-image-grid"),checked:e,onChange:e=>t({enableCaptions:e}),help:(0,m.__)("Show image captions below each image.","pikari-image-grid")}))}function _({width:e,height:t,setAttributes:i}){return(0,l.createElement)(g.PanelBody,{title:(0,m.__)("Dimensions","pikari-image-grid")},(0,l.createElement)("div",{style:{display:"flex",gap:"8px"}},(0,l.createElement)(g.TextControl,{label:(0,m.__)("Width","pikari-image-grid"),value:e,onChange:e=>i({width:e}),placeholder:(0,m.__)("Auto","pikari-image-grid"),help:(0,m.__)("Enter width with unit (px, %, vw)","pikari-image-grid")}),(0,l.createElement)(g.TextControl,{label:(0,m.__)("Height","pikari-image-grid"),value:t,onChange:e=>i({height:e}),placeholder:(0,m.__)("Auto","pikari-image-grid"),help:(0,m.__)("Enter height with unit (px, %, vh)","pikari-image-grid")})))}function v({attributes:e,setAttributes:t}){const{enableCaptions:i,image1Id:a,image1Url:r,image1Alt:n,image2Id:o,image2Url:u,image2Alt:h,image3Id:b,image3Url:_,image3Alt:v,image4Id:f,image4Url:E,image4Alt:k}=e;return(0,l.createElement)(g.PanelBody,{title:(0,m.__)("Images","pikari-image-grid"),initialOpen:!1},(0,l.createElement)(d,{imageNumber:1,imageId:a,imageUrl:r,imageAlt:n,enableCaptions:i,onSelectImage:s(t,1),onRemoveImage:c(t,1),onUpdateAlt:p(t,1)}),(0,l.createElement)(d,{imageNumber:2,imageId:o,imageUrl:u,imageAlt:h,enableCaptions:i,onSelectImage:s(t,2),onRemoveImage:c(t,2),onUpdateAlt:p(t,2)}),(0,l.createElement)(d,{imageNumber:3,imageId:b,imageUrl:_,imageAlt:v,enableCaptions:i,onSelectImage:s(t,3),onRemoveImage:c(t,3),onUpdateAlt:p(t,3)}),(0,l.createElement)(d,{imageNumber:4,imageId:f,imageUrl:E,imageAlt:k,enableCaptions:i,onSelectImage:s(t,4),onRemoveImage:c(t,4),onUpdateAlt:p(t,4)}))}function f({attributes:e,setAttributes:t}){const{gridLayout:i,gap:a,imageBorderRadius:r,imageBorderWidth:o,imageBorderColor:g,enableCaptions:m,width:d,height:s}=e;return(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(h,{gridLayout:i,gap:a,imageBorderRadius:r,imageBorderWidth:o,imageBorderColor:g,setAttributes:t}),(0,l.createElement)(b,{enableCaptions:m,setAttributes:t}),(0,l.createElement)(_,{width:d,height:s,setAttributes:t}),(0,l.createElement)(v,{attributes:e,setAttributes:t}))}function E({attributes:e,setAttributes:t}){return(0,l.createElement)(n.MediaPlaceholder,{icon:"grid-view",labels:{title:(0,m.__)("Image Grid","pikari-image-grid"),instructions:(0,m.__)("Upload images or select from your media library to create a beautiful image grid.","pikari-image-grid")},onSelect:i=>((e,t,i)=>{if(Array.isArray(e)){const t={};e.slice(0,4).forEach((e,i)=>{const a=i+1;t[`image${a}Id`]=e.id,t[`image${a}Url`]=e.url,t[`image${a}Alt`]=e.alt||""}),i(t)}else for(let a=1;a<=4;a++)if(!t[`image${a}Url`]){i({[`image${a}Id`]:e.id,[`image${a}Url`]:e.url,[`image${a}Alt`]:e.alt||""});break}})(i,e,t),accept:"image/*",allowedTypes:["image"],multiple:!0})}var k=i(942),y=i.n(k);function w({images:e,gridLayout:t,gap:i,width:a,height:r,enableCaptions:n,setAttributes:o}){const d=a||"fit-content",s=r||"fit-content",c=u(a),p=u(r);return(0,l.createElement)(g.ResizableBox,{key:`${a}-${r}`,size:{width:c||void 0,height:p||void 0},style:{width:d,height:s},minHeight:200,minWidth:200,enable:{top:!1,right:!0,bottom:!0,left:!1,topRight:!1,bottomRight:!0,bottomLeft:!1,topLeft:!1},onResizeStop:(e,t,i)=>{const a=i.getBoundingClientRect();o({width:`${Math.round(a.width)}px`,height:`${Math.round(a.height)}px`})},className:"image-grid-resizable"},(0,l.createElement)("div",{className:y()("image-grid-container",`is-layout-${t}`),style:{width:"100%",height:"100%",display:"grid",gap:`${i}px`}},e.map((e,t)=>(0,l.createElement)("div",{key:t,className:y()("image-grid-item",{"has-placeholder":!e.url})},e.url?(0,l.createElement)("figure",{className:"image-grid-figure"},(0,l.createElement)("img",{src:e.url,alt:e.alt,className:"image-grid-image",style:{width:"100%",height:"100%",objectFit:"cover"}}),n&&e.alt&&(0,l.createElement)("figcaption",{className:"image-grid-caption"},e.alt)):(0,l.createElement)("div",{className:"image-placeholder"},(0,l.createElement)("span",null,(0,m.sprintf)(/* translators: %d: Image number */ /* translators: %d: Image number */
(0,m.__)("Image %d","pikari-image-grid"),t+1)))))))}(0,a.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:t}){const{gap:i,imageBorderRadius:a,imageBorderWidth:r,imageBorderColor:g,gridLayout:m,width:d,height:s,enableCaptions:c}=e,p=(0,n.useBlockProps)({className:c?"has-captions":"",style:{"--image-grid-gap":`${i}px`,"--image-grid-border-radius":`${a}px`,"--image-grid-border-width":`${r}px`,"--image-grid-border-color":g||"transparent"}}),u=(0,o.useRef)(null),h=(e=>{const{image1Id:t,image1Url:i,image1Alt:a,image2Id:r,image2Url:l,image2Alt:n,image3Id:o,image3Url:g,image3Alt:m,image4Id:d,image4Url:s,image4Alt:c}=e;return[{id:t,url:i,alt:a},{id:r,url:l,alt:n},{id:o,url:g,alt:m},{id:d,url:s,alt:c}]})(e);return h.some(e=>e.url)?(0,l.createElement)(l.Fragment,null,(0,l.createElement)(f,{attributes:e,setAttributes:t}),(0,l.createElement)("div",{...p},(0,l.createElement)("div",{ref:u,style:{height:"100%"}},(0,l.createElement)(w,{images:h,gridLayout:m,gap:i,width:d,height:s,enableCaptions:c,setAttributes:t})))):(0,l.createElement)(l.Fragment,null,(0,l.createElement)(f,{attributes:e,setAttributes:t}),(0,l.createElement)("div",{...p},(0,l.createElement)(E,{attributes:e,setAttributes:t})))},save:()=>null})},942:(e,t)=>{var i;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=n(e,l(i)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)a.call(e,i)&&e[i]&&(t=n(t,i));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()}},i={};function a(e){var r=i[e];if(void 0!==r)return r.exports;var l=i[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,i,r,l)=>{if(!i){var n=1/0;for(d=0;d<e.length;d++){for(var[i,r,l]=e[d],o=!0,g=0;g<i.length;g++)(!1&l||n>=l)&&Object.keys(a.O).every(e=>a.O[e](i[g]))?i.splice(g--,1):(o=!1,l<n&&(n=l));if(o){e.splice(d--,1);var m=r();void 0!==m&&(t=m)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[i,r,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={645:0,505:0};a.O.j=t=>0===e[t];var t=(t,i)=>{var r,l,[n,o,g]=i,m=0;if(n.some(t=>0!==e[t])){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(g)var d=g(a)}for(t&&t(i);m<n.length;m++)l=n[m],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},i=globalThis.webpackChunkpikari_image_grid_block=globalThis.webpackChunkpikari_image_grid_block||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var r=a.O(void 0,[505],()=>a(45));r=a.O(r)})();